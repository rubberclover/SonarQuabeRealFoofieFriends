"use strict";(self.webpackChunkRealFoodieFriends=self.webpackChunkRealFoodieFriends||[]).push([[471],{9471:(W,u,l)=>{l.r(u),l.d(u,{ChannelsModule:()=>G});var c=l(8583),f=l(2533),g=l(1385),t=l(639);let C=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-channels-create"]],decls:3,vars:0,consts:[[1,"bd-example"],["type","button",1,"rff-create-button"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t._uU(2," Crear canal "),t.qZA(),t.qZA())},styles:[".rff-create-button[_ngcontent-%COMP%]{background-color:var(--main-channel-color);border:none;font-size:1rem;font-family:var(--main-font);padding:1rem;transition:.3s ease;border-radius:1rem}.rff-create-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#31aa70}.bd-example[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;font-weight:bold}"]}),n})();var _=l(3190),m=l(752),P=l(2340),Z=l(1841);let h=(()=>{class n{constructor(e){this.http=e,this.baseUrl=P.N.baseUrl}getAllChannels(){return this.http.get(`${this.baseUrl}api/channel/getAllChannels`)}getChannelById(e){return this.http.get(`${this.baseUrl}api/channel/obtainChannel/${e}`)}getChannelsFiltered(e){return this.http.post(`${this.baseUrl}api/channel/getChannelsByTerm`,{title:e})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",9),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.uIk("src",e.rffPost.image[0],t.LSH)}}const M=function(n){return["/posts/details",n]},T=function(n){return["/user/profile",n]};let v=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-card"]],inputs:{rffPost:"rffPost"},decls:11,vars:10,consts:[[1,"rff-post-card",3,"routerLink"],[1,"post-border-top"],[1,"post-card-content","rff-post-card-flex"],[1,"rff-post-user-image"],["alt","",1,"post-user-avatar",3,"routerLink"],[1,"post-card-info"],[1,"post-username"],[1,"post-title"],[4,"ngIf"],["alt","",1,"post-image","d-block"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"p",6),t._uU(7),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.qZA(),t.YNc(10,y,2,1,"div",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("routerLink",t.VKq(6,M,o.rffPost._id)),t.xp6(4),t.Q6J("routerLink",t.VKq(8,T,o.rffPost.user._id)),t.uIk("src",o.rffPost.user.userImage,t.LSH),t.xp6(3),t.Oqu(o.rffPost.user.username),t.xp6(2),t.Oqu(o.rffPost.title),t.xp6(1),t.Q6J("ngIf",o.rffPost.image.length>0))},directives:[g.rH,c.O5],styles:[".rff-post-card[_ngcontent-%COMP%]{background-color:var(--main-orange-back);font-family:var(--main-font);color:var(--main-font-color);border-radius:0 1rem 0 0;box-shadow:5px 5px 3px #0003}.rff-post-card[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:5px 5px 25px #00000080;transform:translate(-5px,-5px);background-color:var(--main-yellow-color)}.rff-post-card-flex[_ngcontent-%COMP%]{display:flex}.post-border-top[_ngcontent-%COMP%]{background-color:var(--main-orange-color);min-height:10px;height:8%;border-top-right-radius:1rem}.post-card-content[_ngcontent-%COMP%]{padding:1rem}.post-user-avatar[_ngcontent-%COMP%]{height:2rem;width:2rem;border-radius:50%;margin-right:1rem}.post-card-info[_ngcontent-%COMP%]{text-align:left}.post-username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter}.post-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.post-image[_ngcontent-%COMP%]{width:16rem;height:8rem;border-radius:0 1rem 0 0}.rff-post-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:bold}#carouselExampleIndicators[_ngcontent-%COMP%]{height:20vh}.inner[_ngcontent-%COMP%]{border-radius:0 0 1rem 1rem;height:100%}img.d-block[_ngcontent-%COMP%]{object-fit:cover}"]}),n})();function O(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-post-card",4),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("rffPost",e)}}const x=function(n){return{id:"posts-pagination",itemsPerPage:4,currentPage:n}};let A=(()=>{class n{constructor(){this.p=1,this.responsive=!0}ngOnInit(){}ngOnChanges(e){this.p=1}onPageChanged(e){this.p=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-channel-posts-list"]],inputs:{rffPosts:"rffPosts"},features:[t.TTD],decls:5,vars:7,consts:[[1,"grid-posts"],[4,"ngFor","ngForOf"],[1,"posts-paginator","mt-4"],["id","posts-pagination","previousLabel","Anterior","nextLabel","Siguiente",1,"rff-pagination",3,"responsive","pageChange"],[3,"rffPost"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,O,2,1,"div",1),t.ALo(2,"paginate"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"pagination-controls",3),t.NdJ("pageChange",function(i){return o.onPageChanged(i)}),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,o.rffPosts,t.VKq(5,x,o.p))),t.xp6(3),t.Q6J("responsive",o.responsive))},directives:[c.sg,f.LS,v],pipes:[f._s],styles:[".rff-pagination[_ngcontent-%COMP%]{font-family:var(--main-font);color:var(--main-font-color)}.rff-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:var(--main-orange-color)}.rff-pagination[_ngcontent-%COMP%]     .ngx-pagination .disabled{color:var(--main-font-color);opacity:.4}.posts-paginator[_ngcontent-%COMP%]{display:flex;justify-content:center}.grid-posts[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:2rem;gap:2rem}@media (min-width: 768px){.grid-posts[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]}),n})();var w=l(8239),b=l(1536),q=l(2542),d=l(665);function k(n,r){1&n&&(t.TgZ(0,"button",42),t._uU(1," Crear post "),t.qZA())}function L(n,r){1&n&&(t.TgZ(0,"button",43),t._uU(1," Crear post "),t.qZA())}function I(n,r){1&n&&(t.TgZ(0,"p",44),t._uU(1,"Este campo es obligatorio."),t.qZA())}function U(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(a){return t.CHM(e),t.oxw().changeTag(a)}),t._uU(1),t.qZA()}if(2&n){const e=r.$implicit;t.Q6J("id",e._id),t.xp6(1),t.hij(" ",e.type," ")}}function F(n,r){1&n&&(t.TgZ(0,"p",44),t._uU(1,"Este campo es obligatorio."),t.qZA())}let J=(()=>{class n{constructor(e,o,a){this.postsService=e,this.uploadImagesService=o,this.authService=a,this.message="0 fotos seleccionadas",this.post={title:"",content:"",creationDate:new Date,user:"",image:[],tagPost:[],channel:""},this.onPostCreated=new t.vpe,this.userLogged=!1,this.files=[],this.creatingPost=!1,this.activeElements=[],this.createdCorrectly=!1,this.errorCreating=!1,this.obtainPostTags(),this.obtainUser()}ngOnInit(){var e;null===(e=document.getElementById("text"))||void 0===e||e.setAttribute("message",this.message),this.createdCorrectly=!1,this.errorCreating=!1,this.allElement=document.querySelector('[id="all"]')}onFileUpload(e){var o;this.files=[],this.message=e.target.files.length+" fotos seleccionadas";for(let a of e.target.files)this.files.push(a);null===(o=document.getElementById("text"))||void 0===o||o.setAttribute("message",this.message)}createPost(){var e=this;return(0,w.Z)(function*(){e.creatingPost=!0;const o=[];e.activeElements.forEach(s=>{o.push(s.id)}),console.log(o),e.post.tagPost=o;let a=new Array,i=new Array;if(e.files.length>0){for(let s of e.files){let p=new FormData;p.append("file",s),p.append("upload_preset","rffPostImages"),p.append("cloud_name","rffsmedia"),i.push(e.uploadImagesService.uploadImage(p))}for(let s of i)a.push((yield s.toPromise()).secure_url);for(let s of a)e.post.image.push(s)}e.post.creationDate=new Date,e.post.user=e.user.uid,e.post.channel=e.channel._id,yield e.postsService.createPost(e.post).then(s=>{s.ok?(e.onPostCreated.emit(),e.createdCorrectly=!0,setTimeout(()=>{var p;e.createdCorrectly=!1,e.removeFilters(),null===(p=document.getElementById("buttonClose"))||void 0===p||p.click()},3e3)):(e.errorCreating=!0,setTimeout(()=>{e.errorCreating=!1},3e3))}),e.post.image=[],e.creatingPost=!1})()}obtainUser(){this.authService.validateToken().subscribe(e=>{this.userLogged=e,this.user=this.authService.user})}obtainPostTags(){this.postsService.getAllPostTags().then(e=>{this.dbTagPost=e.dbTagPost})}changeTag(e){const o=e.target.id;var a=document.querySelector(`[id="${o}"]`);console.log(a),"all"===o?(null==a?void 0:a.classList.contains("post-filter-active"))||this.removeFilters():(null==a?void 0:a.classList.contains("post-filter-active"))?1!=this.activeElements.length?(a.classList.remove("post-filter-active"),this.activeElements=this.arrayRemove(this.activeElements,a),console.log(this.activeElements)):this.removeFilters():(a.classList.add("post-filter-active"),this.activeElements.push(a),this.checkAllActive())}removeFilters(){this.activeElements.forEach(e=>{e.classList.remove("post-filter-active")}),this.activeElements=[],this.allElement.classList.add("post-filter-active")}checkAllActive(){this.allElement.classList.contains("post-filter-active")&&this.allElement.classList.remove("post-filter-active")}arrayRemove(e,o){const a=e.indexOf(o);return-1!=a&&e.splice(a,1),e}reset(){var e,o;this.removeFilters(),null===(e=document.getElementById("buttonReset"))||void 0===e||e.click(),this.message="0 fotos seleccionadas",null===(o=document.getElementById("text"))||void 0===o||o.setAttribute("message",this.message)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.P),t.Y36(b.B),t.Y36(q.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-create"]],inputs:{channel:"channel"},outputs:{onPostCreated:"onPostCreated"},features:[t._Bn([b.B])],decls:59,vars:10,consts:[["type","button","class","rff-create-button","data-bs-toggle","modal","data-bs-target","#gridSystemModal",4,"ngIf"],["id","noUser"],["type","button","class","rff-create-button","data-bs-toggle","modal","data-bs-target","#gridSystemModal","disabled","",4,"ngIf"],["id","gridSystemModal","tabindex","-1","aria-labelledby","gridModalLabel","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[3,"ngSubmit"],["postForm","ngForm"],[1,"modal-header"],["id","gridModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"container-fluid","bd-example-row"],[1,"row","justify-content-between"],[1,"col-md-6"],[1,"row","pt-3"],["for","title",1,"form-label"],["type","text","placeholder","50 caracteres m\xe1ximo","id","title","name","title","maxlength","50","required","",1,"form-control","inputPost",3,"ngModel","ngModelChange"],["titleModel","ngModel"],["style","color: red;",4,"ngIf"],[1,"col-md-5"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","form-control"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","posts-div-drop"],["class","dropdown-item posts-a",3,"id","click",4,"ngFor","ngForOf"],[1,"rff-separator"],["id","all",1,"dropdown-item","posts-a","post-filter-active",3,"click"],[1,"row","pt-4"],[1,"col-12"],[1,"row"],["for","content",1,"form-label"],["placeholder","Introduce aqu\xed una descripci\xf3n para el post","id","content","name","contenc","rows","10","required","",1,"form-control","inputPost",3,"ngModel","ngModelChange"],["contentModel","ngModel"],["id","customFile","lang","es",1,"custom-file"],["type","file","aria-describedby","fileHelp","id","exampleInputFile","accept","image/png, image/jpeg","name","images","multiple","",1,"custom-file-input",3,"change"],["id","text","for","exampleInputFile",1,"custom-file-label"],[1,"modal-footer"],["type","button","id","closePost","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit","id","createPost",1,"btn","btn-primary",3,"disabled"],["id","buttonReset","type","reset",2,"display","none"],["id","alert",1,"alert","alert-success",3,"ngClass"],["id","alert",1,"alert","alert-danger",3,"ngClass"],["type","button","data-bs-toggle","modal","data-bs-target","#gridSystemModal",1,"rff-create-button"],["type","button","data-bs-toggle","modal","data-bs-target","#gridSystemModal","disabled","",1,"rff-create-button"],[2,"color","red"],[1,"dropdown-item","posts-a",3,"id","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,k,2,0,"button",0),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,L,2,0,"button",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"form",6,7),t.NdJ("ngSubmit",function(){return o.createPost()}),t.TgZ(9,"div",8),t.TgZ(10,"h1",9),t._uU(11,"Crear post"),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return o.reset()}),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"div",12),t.TgZ(15,"div",13),t.TgZ(16,"div",14),t.TgZ(17,"div",15),t.TgZ(18,"label",16),t._uU(19,"T\xedtulo *"),t.qZA(),t.TgZ(20,"input",17,18),t.NdJ("ngModelChange",function(i){return o.post.title=i}),t.qZA(),t.YNc(22,I,2,0,"p",19),t.qZA(),t.qZA(),t.TgZ(23,"div",20),t.TgZ(24,"div",15),t.TgZ(25,"div",21),t.TgZ(26,"label",16),t._uU(27,"Categor\xeda (0 o Muchas)"),t.qZA(),t.TgZ(28,"button",22),t._uU(29," Categor\xedas "),t.qZA(),t.TgZ(30,"div",23),t.YNc(31,U,2,2,"a",24),t._UZ(32,"hr",25),t.TgZ(33,"a",26),t.NdJ("click",function(i){return o.changeTag(i)}),t._uU(34,"Ninguno"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",27),t.TgZ(36,"div",28),t.TgZ(37,"div",29),t.TgZ(38,"label",30),t._uU(39,"Descripci\xf3n *"),t.qZA(),t.TgZ(40,"textarea",31,32),t.NdJ("ngModelChange",function(i){return o.post.content=i}),t.qZA(),t.YNc(42,F,2,0,"p",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",27),t.TgZ(44,"div",28),t.TgZ(45,"div",15),t.TgZ(46,"div",33),t.TgZ(47,"input",34),t.NdJ("change",function(i){return o.onFileUpload(i)}),t.qZA(),t._UZ(48,"label",35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",36),t.TgZ(50,"button",37),t.NdJ("click",function(){return o.reset()}),t._uU(51,"Cerrar"),t.qZA(),t.TgZ(52,"button",38),t._uU(53,"Crear post"),t.qZA(),t._UZ(54,"button",39),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",40),t._uU(56," Post creado correctamente "),t.qZA(),t.TgZ(57,"div",41),t._uU(58," Error al crear post "),t.qZA(),t.qZA(),t.qZA()),2&e){const a=t.MAs(8),i=t.MAs(21),s=t.MAs(41);t.xp6(1),t.Q6J("ngIf",o.userLogged),t.xp6(2),t.Q6J("ngIf",!o.userLogged),t.xp6(17),t.Q6J("ngModel",o.post.title),t.xp6(2),t.Q6J("ngIf",i.invalid&&i.touched),t.xp6(9),t.Q6J("ngForOf",o.dbTagPost),t.xp6(9),t.Q6J("ngModel",o.post.content),t.xp6(2),t.Q6J("ngIf",s.invalid&&s.touched),t.xp6(10),t.Q6J("disabled",o.creatingPost||a.invalid),t.xp6(3),t.Q6J("ngClass",null!=o.createdCorrectly&&o.createdCorrectly?"block":"none"),t.xp6(2),t.Q6J("ngClass",o.errorCreating?"block":"none")}},directives:[c.O5,d._Y,d.JL,d.F,d.Fj,d.nD,d.Q7,d.JJ,d.On,c.sg,c.mk],styles:['#gridModalLabel[_ngcontent-%COMP%]{color:var(--main-orange-color)}.inputPost[_ngcontent-%COMP%]{background-color:var(--main-orange-back)!important}#dropdownMenuButton[_ngcontent-%COMP%]{background-color:var(--main-orange-back)!important}#closePost[_ngcontent-%COMP%]{width:115px;font-weight:bold;font-size:15px;font-family:var(--main-font);border-top-right-radius:1rem;padding:8px;margin-top:5px;margin-bottom:10px;text-decoration:none;color:#f8f1ef;background-color:#2a302a;border:0}#closePost[_ngcontent-%COMP%]:hover{color:#f8f1ef;background-color:#0a0c0a;text-decoration:none}#createPost[_ngcontent-%COMP%]{width:115px;font-weight:bold;font-size:15px;font-family:var(--main-font);border-top-left-radius:1rem;padding:8px;margin-top:5px;margin-bottom:10px;text-decoration:none;color:#363853;background-color:var(--main-orange-color);border:0}#createPost[_ngcontent-%COMP%]:hover{color:#f8f1ef;background-color:#9b4638;text-decoration:none}#text[_ngcontent-%COMP%]{color:var(--main-font-color);background-color:var(--main-header-color);padding-left:20px}.modal-title[_ngcontent-%COMP%]{font-family:var(--main-font);font-weight:bold}.form-label[_ngcontent-%COMP%]{font-weight:bold}#exampleInputFile[_ngcontent-%COMP%]{cursor:pointer}label[_ngcontent-%COMP%]{padding-right:0;font-weight:bold}.custom-file-input[_ngcontent-%COMP%] ~ .custom-file-label[_ngcontent-%COMP%]:after{content:"Seleccionar fotos";background-color:var(--main-butonCreatePost-back)}.custom-file-input[_ngcontent-%COMP%] ~ .custom-file-label[_ngcontent-%COMP%]:before{content:attr(message)}.alert[_ngcontent-%COMP%]{position:absolute;right:20px;left:20px;bottom:0;margin-bottom:10px;text-align:center;overflow:inherit}.block[_ngcontent-%COMP%]{display:block}.none[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.dropdown[_ngcontent-%COMP%]{padding:0}}.form-label[_ngcontent-%COMP%]{padding:0}.dropdown[_ngcontent-%COMP%]{padding-right:0}.rff-create-button[_ngcontent-%COMP%]{margin-left:20px;background-color:var(--main-blue-btn);border:none;font-family:var(--main-font);font-weight:bold;padding:.2rem 3rem .2rem 1.5rem;transition:.3s ease;border-radius:1rem 0 0;color:var(--main-yellow-color)}.rff-create-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--main-yellow-color);color:var(--main-blue-color)}#noUser[_ngcontent-%COMP%]{text-align:center}.posts-button[_ngcontent-%COMP%]{background-color:#97c6ba;border:none;font-size:1rem;font-family:var(--main-font);padding:.8rem;border-radius:1rem;width:10rem}.posts-button[_ngcontent-%COMP%]:hover{background-color:var(--main-orange-color)}.posts-div-drop[_ngcontent-%COMP%]{border-radius:1rem;background-color:var(--main-orange-back);border:2px solid var(--main-font-color)}.posts-a[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-family:var(--main-font);color:var(--main-font-color);padding:.5rem}.posts-a[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--main-font-color-inverse);background-color:var(--main-orange-back-inverse)}.post-filter-active[_ngcontent-%COMP%]{color:var(--main-font-color-inverse);text-decoration:none;background-color:var(--main-orange-back-inverse)}.modal-content[_ngcontent-%COMP%]{background-color:var(--main-background);color:var(--main-font-color)}.rff-separator[_ngcontent-%COMP%]{margin:.5rem 0}@media (min-width: 768px){.rff-create-button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 3rem .5rem 1.5rem}}']}),n})();function S(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"img",20),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goBack()}),t._UZ(3,"span",22),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"app-post-create",24),t.NdJ("onPostCreated",function(){return t.CHM(e),t.oxw(2).postCreated()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.uIk("src",e.channel.image[0],t.LSH),t.xp6(4),t.Q6J("channel",e.channel)}}function E(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,S,6,2,"div",15),t._UZ(2,"hr",16),t.TgZ(3,"p",17),t._uU(4),t.ALo(5,"uppercase"),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.channel.image.length>0),t.xp6(3),t.Oqu(t.lcZ(5,3,e.channel.name)),t.xp6(3),t.hij(" ",e.channel.description," ")}}let N=(()=>{class n{constructor(e,o,a,i){this.postsService=e,this.channelsService=o,this.activatedRoute=a,this.location=i,this.rffPosts=[],this.inputTerm=""}ngOnInit(){this.obtainChannelAndPosts()}postCreated(){this.showLoading(),this.obtainChannelPosts()}obtainChannelPosts(){this.showLoading(),this.postsService.getChannelPosts(this.channel._id).subscribe(e=>{this.rffPosts=e.PostsReturn,this.hideLoading()})}obtainChannelAndPosts(){this.activatedRoute.params.pipe((0,_.w)(({id:e})=>this.channelsService.getChannelById(e))).subscribe(e=>{this.channel=e,this.obtainChannelPosts()})}onEnter(e){this.showLoading(),this.inputTerm=e,this.filterByInputTerm()}filterByInputTerm(){this.postsService.getChannelPostsFiltered(this.channel._id,this.inputTerm).subscribe(e=>{this.rffPosts=e.PostsReturn,this.hideLoading()})}goBack(){this.location.back()}showLoading(){document.querySelector(".rff-spinner-loading").style.visibility="visible",document.querySelector(".rff-channel-list-posts").style.display="none"}hideLoading(){document.querySelector(".rff-spinner-loading").style.visibility="hidden",document.querySelector(".rff-channel-list-posts").style.display="block"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.P),t.Y36(h),t.Y36(g.gz),t.Y36(c.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-channels-details"]],decls:17,vars:2,consts:[[1,"container"],[1,"rff-channel-grid"],[1,"rff-channel-info"],[1,"rff-channel-details"],[4,"ngIf"],[1,"rff-channel-posts"],[1,"rff-channel-search-grid"],["type","text","placeholder","Buscar post...",1,"rff-channel-post-search",3,"keyup.enter"],["postSearch",""],[1,"rff-channel-post-filter",3,"click"],[1,"rff-channel-list-posts","mt-4"],[3,"rffPosts"],[1,"rff-spinner-loading"],["role","status",1,"spinner-grow","mt-4"],[1,"sr-only"],["class","image-div",4,"ngIf"],[1,"hr-channel"],[1,"rff-channel-name","mt-3"],[1,"rff-channel-description"],[1,"image-div"],["alt","",1,"image-channel","d-block","w-100"],[1,"back-button",3,"click"],["data-icon","eva:arrow-ios-back-outline",1,"iconify"],[1,"btn-post-create"],[3,"channel","onPostCreated"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,E,8,5,"div",4),t.qZA(),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"input",7,8),t.NdJ("keyup.enter",function(){t.CHM(a);const s=t.MAs(8);return o.onEnter(s.value)}),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(8);return o.onEnter(s.value)}),t._uU(10,"Filtrar"),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t._UZ(12,"app-channel-posts-list",11),t.qZA(),t.TgZ(13,"div",12),t.TgZ(14,"div",13),t.TgZ(15,"span",14),t._uU(16,"Loading..."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.Q6J("ngIf",o.channel),t.xp6(8),t.Q6J("rffPosts",o.rffPosts))},directives:[c.O5,A,J],pipes:[c.gd],styles:[".rff-channel-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:1rem;gap:1rem}.rff-channel-details[_ngcontent-%COMP%]{font-family:var(--main-font)}.rff-create-post[_ngcontent-%COMP%]{background-color:var(--main-channel-color);border:none;font-size:1rem;font-family:var(--main-font);padding:1rem;transition:.3s ease;border-radius:1rem;width:100%}.rff-create-post[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#31aa70}.rff-channel-search-grid[_ngcontent-%COMP%]{display:flex;justify-content:center}.rff-channel-post-search[_ngcontent-%COMP%]{background-color:var(--main-yellow-color);font-family:var(--main-font);padding:.2rem 1.5rem;border:none;width:80%;color:#000}.rff-spinner-loading[_ngcontent-%COMP%]{display:flex;justify-content:center}.rff-channel-post-search[_ngcontent-%COMP%]::placeholder{color:var(--main-blue-color)}.rff-channel-post-search[_ngcontent-%COMP%]:-moz-placeholder{color:var(--main-blue-color)}.rff-channel-post-filter[_ngcontent-%COMP%]{border:none;background-color:var(--main-blue-btn);border-top-right-radius:1rem;width:20%;padding:.2rem 3rem .2rem 1.5rem;font-family:var(--main-font);font-weight:bold;color:var(--main-yellow-color)}.rff-channel-post-filter[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--main-yellow-color);color:var(--main-blue-color)}.rff-channel-name[_ngcontent-%COMP%]{padding:.5rem;font-weight:bold;font-size:1.25rem;color:var(--main-font-color);margin:0}.rff-channel-description[_ngcontent-%COMP%]{padding:.5rem;border-radius:1rem;color:var(--main-font-color)}#carouselExampleIndicators[_ngcontent-%COMP%]{height:20vh}.inner[_ngcontent-%COMP%]{border:1px solid black;border-radius:20px;height:100%}.carousel-item[_ngcontent-%COMP%]{height:100%}img.d-block[_ngcontent-%COMP%]{object-fit:cover}.image-div[_ngcontent-%COMP%]{position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;bottom:0;border:none;padding:.2rem .8rem .2rem 1.5rem;border-radius:0 1rem 0 0;background-color:var(--main-yellow-color)}.btn-post-create[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.image-channel[_ngcontent-%COMP%]{height:8rem}hr[_ngcontent-%COMP%]{margin:0}.hr-channel[_ngcontent-%COMP%]{border:none;height:10px;opacity:1;color:var(--main-yellow-color);background-color:var(--main-yellow-color)}.rff-channel-list-posts[_ngcontent-%COMP%]{display:none}.rff-spinner-loading[_ngcontent-%COMP%]{color:var(--main-orange-color);text-align:center;visibility:hidden}@media (min-width: 768px){.image-channel[_ngcontent-%COMP%]{height:10rem}.rff-channel-post-search[_ngcontent-%COMP%]{padding:.5rem 1.5rem}.rff-channel-post-filter[_ngcontent-%COMP%]{padding:.5rem 3rem .5rem 1.5rem}}@media (min-width: 992px){.rff-channel-grid[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr;grid-gap:2rem;gap:2rem}.rff-channel-posts[_ngcontent-%COMP%]{grid-row:1 / 2;text-align:center}.back-button[_ngcontent-%COMP%]{display:none}.image-channel[_ngcontent-%COMP%]{height:12rem}}"]}),n})();const Q=function(n){return["/channels/details",n]};let z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-channel-card"]],inputs:{rffChannel:"rffChannel"},decls:6,vars:5,consts:[[1,"cursor-pointer","card","rff-channel",3,"routerLink"],[1,"image-div"],[1,"channel-name-div"],[1,"channel-name"],["alt","Canal",1,"channel-image","d-block"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.qZA(),t._UZ(5,"img",4),t.qZA(),t.qZA()),2&e&&(t.Q6J("routerLink",t.VKq(3,Q,o.rffChannel._id)),t.xp6(4),t.Oqu(o.rffChannel.name),t.xp6(1),t.uIk("src",o.rffChannel.image[0],t.LSH))},directives:[g.rH],styles:[".cursor-pointer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.rff-channel[_ngcontent-%COMP%]{margin-right:2rem;background-color:var(--extreme-color);border:none;background-position:center;background-size:cover;border-radius:2rem;color:#fff;font-family:var(--main-font-new)}.image-div[_ngcontent-%COMP%]{position:relative}.channel-name-div[_ngcontent-%COMP%]{position:absolute;padding:.7rem 2rem .7rem 3rem;background-color:var(--main-orange-color);border-radius:0 0 1rem}.channel-name[_ngcontent-%COMP%]{margin:0}.channel-image[_ngcontent-%COMP%]{height:9rem;width:20rem;border-radius:0 1rem 0 0}img.d-block[_ngcontent-%COMP%]{object-fit:cover}"]}),n})();function Y(n,r){if(1&n&&(t.TgZ(0,"div",8),t._UZ(1,"app-channel-card",9),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("rffChannel",e)}}function B(n,r){1&n&&(t.TgZ(0,"p",18),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij("#",1,""))}function D(n,r){1&n&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij("#",2,""))}function j(n,r){1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij("#",3,""))}function R(n,r){if(1&n&&(t.TgZ(0,"p",21),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.hij("#",e+1,"")}}function H(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",12),t.YNc(2,B,2,1,"p",13),t.YNc(3,D,2,1,"p",14),t.YNc(4,j,2,1,"p",15),t.YNc(5,R,2,1,"p",16),t._UZ(6,"app-post-card",17),t.qZA(),t.qZA()),2&n){const e=r.$implicit,o=r.index;t.xp6(2),t.Q6J("ngIf",0==o),t.xp6(1),t.Q6J("ngIf",1==o),t.xp6(1),t.Q6J("ngIf",2==o),t.xp6(1),t.Q6J("ngIf",o>2),t.xp6(1),t.Q6J("rffPost",e)}}function X(n,r){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,H,7,5,"div",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.rffPopularPosts)}}const $=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())},directives:[g.lC],styles:[""]}),n})(),children:[{path:"list",component:(()=>{class n{constructor(e,o){this.channelsService=e,this.postsService=o,this.rffChannels=[],this.rffPopularPosts=[],this.inputTerm=""}ngOnInit(){this.showLoading(),this.obtainAllChannels(),this.obtainPopularPosts()}obtainAllChannels(){this.channelsService.getAllChannels().subscribe(e=>{this.rffChannels=e.dbChannels,this.hideLoading()})}obtainPopularPosts(){this.postsService.getPopularPosts().subscribe(e=>{this.rffPopularPosts=e.PostsReturn,console.log(this.rffPopularPosts)})}showLoading(){document.querySelector(".rff-spinner-loading").style.visibility="visible",document.querySelector(".rff-channel-list").style.display="none"}hideLoading(){document.querySelector(".rff-spinner-loading").style.visibility="hidden",document.querySelector(".rff-channel-list").style.display="block"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h),t.Y36(m.P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-channels-list"]],decls:10,vars:2,consts:[[1,"container"],[1,"rff-channel-list"],[1,"scrolling-wrapper","rff-row","flex-row","flex-nowrap"],["class","channel-card",4,"ngFor","ngForOf"],[1,"popular-posts-title","mt-5","mb-4"],["class","rff-popular-posts-list popular-posts-grid",4,"ngIf"],["role","status",1,"spinner-grow","rff-spinner-loading","mt-4"],[1,"sr-only"],[1,"channel-card"],[3,"rffChannel"],[1,"rff-popular-posts-list","popular-posts-grid"],[4,"ngFor","ngForOf"],[1,"popular-post-card"],["class","popular-number mb-2","style","font-size: 2.5rem;",4,"ngIf"],["class","popular-number mb-2","style","font-size: 2rem;",4,"ngIf"],["class","popular-number mb-2","style","font-size: 1.5rem;",4,"ngIf"],["class","popular-number mb-2",4,"ngIf"],[3,"rffPost"],[1,"popular-number","mb-2",2,"font-size","2.5rem"],[1,"popular-number","mb-2",2,"font-size","2rem"],[1,"popular-number","mb-2",2,"font-size","1.5rem"],[1,"popular-number","mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,Y,2,1,"div",3),t.qZA(),t.qZA(),t.TgZ(4,"p",4),t._uU(5,"Posts m\xe1s populares"),t.qZA(),t.YNc(6,X,2,1,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"span",7),t._uU(9,"Loading..."),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.rffChannels),t.xp6(3),t.Q6J("ngIf",o.rffPopularPosts.length>0))},directives:[c.sg,c.O5,z,v],styles:['.rff-channels-info[_ngcontent-%COMP%]{background-color:#5b9b8b;color:#eff0ef;border-radius:1rem;padding:1rem;font-family:var(--main-font);margin-bottom:2rem}.rff-channels-search[_ngcontent-%COMP%]{background-color:var(--main-background-color);font-family:var(--main-font);border-radius:1rem;padding:.8rem 1rem;border-color:var(--main-channel-color);color:var(--main-font-color)}.rff-channels-submit[_ngcontent-%COMP%]{background-color:#5b9b8b;font-family:var(--main-font);border-radius:1rem;padding:.5rem 1rem;color:#fff;border:none}.rff-channels-h2[_ngcontent-%COMP%]{font-family:"Arima Madurai",cursive;font-weight:bold}.rff-channels-button[_ngcontent-%COMP%]{background-color:#97c6ba;border:none;font-size:1rem;font-family:var(--main-font);padding:.8rem;border-radius:1rem;width:10rem}.rff-channels-button[_ngcontent-%COMP%]:hover{background-color:#5b9b8b}.rff-channels-div-drop[_ngcontent-%COMP%]{background-color:#eff0ef;border-radius:1rem}.rff-channels-a[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-family:var(--main-font)}.rff-channels-a[_ngcontent-%COMP%]:hover{background-color:#97c6ba;cursor:pointer}.channel-section-title[_ngcontent-%COMP%]{font-family:var(--main-font-new);font-weight:bold;font-size:1.7rem;color:var(--main-font-color)}.rff-channel-list[_ngcontent-%COMP%]{display:none}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto;padding:.5rem}.rff-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.rff-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.channel-card[_ngcontent-%COMP%]{padding:.5rem}.rff-spinner-loading[_ngcontent-%COMP%]{color:var(--main-channel-color);text-align:center;margin-left:50%;visibility:hidden}.popular-posts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:2rem;gap:2rem}.popular-posts-title[_ngcontent-%COMP%]{font-family:var(--main-font);color:var(--main-font-color);font-weight:600;font-size:1.25rem;margin:0}.popular-number[_ngcontent-%COMP%]{color:var(--main-orange-color);font-family:var(--main-font);font-size:1.25rem;margin:0}@media (min-width: 768px){.popular-posts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1200px){.popular-posts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}']}),n})()},{path:"create",component:C},{path:"details/:id",component:N},{path:"**",redirectTo:"list"}]}];let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild($)],g.Bz]}),n})();var V=l(1953);let G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,K,V.PostsModule,f.JX]]}),n})()}}]);